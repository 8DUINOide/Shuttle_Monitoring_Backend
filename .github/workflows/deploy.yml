# name: Build and Deploy to App Engine
#
# on:
#   push:
#     branches:
#       - main
#
# jobs:
#   deploy:
#     runs-on: ubuntu-latest
#
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4
#
#       - name: Set up JDK 17
#         uses: actions/setup-java@v4
#         with:
#           java-version: '17'
#           distribution: 'temurin'
#           cache: maven
#
#       - name: Build with Maven
#         run: mvn clean package -DskipTests
#
#       - name: Authenticate to Google Cloud
#         uses: google-github-actions/auth@v2
#         with:
#           credentials_json: ${{ secrets.GCP_SA_KEY }}
#
#       - name: Deploy to App Engine
#         uses: google-github-actions/deploy-appengine@v2
#         with:
#           project_id: concise-rampart-484807-e5
#           version: v${{ github.run_number }}          # nice for debugging + avoids version conflict
#           promote: true
#           # ────────────────────────────────────────
#           #   Critical: do NOT list app.yaml here!
#           #   Let the action discover it from root
#           # ────────────────────────────────────────
# #           deliverables: target/shuttlemonitor-0.0.1-SNAPSHOT.jar