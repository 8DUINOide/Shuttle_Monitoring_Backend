<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="icon" type="image/png" href="images/logo.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.css" rel="stylesheet">
</head>
<body>
<div id="login-screen" class="login-bg">
    <div class="login-container">
        <img src="images/logo.png" class="logo">
        <h3 style="color: #003A6C; font-size: 2rem; margin: 0.5rem 0 2rem 0; font-weight: bold; text-align: center;">Ride.ADNU</h3>
        <input type="text" placeholder="Username" id="username">
        <div class="password-wrapper">
            <input type="password" placeholder="Password" id="password">
            <span class="toggle-password" onclick="togglePassword('password', this)">
                <i class="fa-solid fa-eye-slash"></i>
            </span>
        </div>
        <p id="login-error" class="error-text" style="display:none; color: red; text-align: center; margin-top: 10px;"></p>
        <button onclick="login()">Sign in</button>
        <a href="reset-password.html" style="display: block; margin-top: 10px; text-align: center; color: #ffffff;">Forgot Password?</a>
    </div>
</div>

<div id="dashboard" class="dashboard" style="display: none">
    <div id="sidebar" class="sidebar">
        <div class="sidebar-profile">
            <img id="sidebar-profile-picture" src="images/default-profile.png" alt="Admin Profile Picture" class="sidebar-profile-pic">
            <p class="sidebar-username" id="sidebar-username"></p>
            <p class="sidebar-email" id="sidebar-email"></p>
        </div>
        <ul>
            <li onclick="showTab('home')"><i class="fa-solid fa-house"></i> Dashboard</li>
            <li onclick="showTab('live-map')"><i class="fa-solid fa-map-location-dot"></i> Live Map</li>
            <li onclick="showTab('shuttles')"><i class="fa-solid fa-bus"></i> Shuttles</li>
            <li onclick="showTab('students')"><i class="fa-solid fa-users"></i> Students</li>
            <li onclick="showTab('notifications')"><i class="fa-solid fa-bell"></i> Notifications</li>
            <li onclick="showTab('profile')"><i class="fa-solid fa-user"></i> Profile</li>
            <li onclick="showLogoutConfirmModal()"><i class="fa-solid fa-sign-out-alt"></i> Logout</li>
        </ul>
    </div>

    <div class="sidebar-toggle" onclick="toggleSidebar()">â˜°</div>
    <div id="content" class="content">
        <div id="home" class="tab active">
            <header>
                <div class="title-container">
                    <i class="fa-solid fa-house"></i>
                    <h2>Dashboard Overview</h2>
                </div>
                <p>Real-time shuttle monitoring and management</p>
            </header>
            <div class="balance-section">
                <div class="balance-card">
                    <div class="label">Active Shuttles</div>
                    <h1>0</h1>
                </div>
                <div class="balance-card">
                    <div class="label">Students Checked In</div>
                    <h1>0</h1>
                </div>
                <div class="balance-card">
                    <div class="label">On time Performance</div>
                    <h1>0%</h1>
                </div>
                <div class="balance-card">
                    <div class="label">Routes Active</div>
                    <h1>0</h1>
                </div>
                <div class="chart-card">
                    <h4>Today's Routes</h4>
                    <table id="todays-routes-table">
                        <thead>
                        <tr>
                            <th>Route</th>
                            <th>Shuttle</th>
                            <th>Driver</th>
                            <th>Capacity</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
                <div class="chart-card">
                    <h4>Recent Activity</h4>
                    <ul id="recent-activity-list"></ul>
                </div>
            </div>
        </div>

        <div id="shuttles" class="tab">
            <header>
                <div class="title-container">
                    <i class="fa-solid fa-bus"></i>
                    <h2>Shuttle Management</h2>
                </div>
                <p>Monitor and manage all shuttle operations</p>
            </header>
            <div class="table-header">
                <div class="table-title-section">
                    <h3>Active Shuttles</h3>
                    <p>Real time shuttle tracking and status monitoring</p>
                </div>
                <div class="table-actions">
                    <button class="add-btn" onclick="showAddOperatorModal()">
                        <i class="fa-solid fa-plus"></i> Add Operator & Drivers
                    </button>
                </div>
            </div>
            <div class="search-container">
                <input id="searchShuttles" type="text" placeholder="Search shuttles, drivers, or routes..." oninput="filterShuttles()">
                <select id="statusFilter" onchange="filterShuttles()">
                    <option value="all">All Status</option>
                    <option value="active">Active</option>
                    <option value="inactive">Inactive</option>
                    <option value="maintenance">Maintenance</option>
                </select>
            </div>
            <p id="no-shuttles-message" style="display:none; color: red; margin-top: 10px;">No shuttles found.</p>
            <table>
                <thead>
                <tr>
                    <th>Shuttle</th>
                    <th>Driver</th>
                    <th>Route</th>
                    <th>Status</th>
                    <th>Occupancy</th>
                    <th>Location</th>
                    <th>Next Stop</th>
                    <th>ETA</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody id="shuttles-table"></tbody>
            </table>
        </div>

        <div id="students" class="tab users-tab">
            <header>
                <div class="title-container">
                    <i class="fa-solid fa-users"></i>
                    <h2>Student Management</h2>
                </div>
                <p>Monitor and manage all student shuttle operations</p>
            </header>
            <div class="table-header">
                <div class="table-title-section">
                    <h3>Active Students</h3>
                    <p>Real-time student tracking and status monitoring</p>
                </div>
                <div class="table-actions">
                    <button class="add-btn" onclick="showAddParentModal()">
                        <i class="fa-solid fa-plus"></i> Add Parent & Students
                    </button>
                </div>
            </div>
            <div class="search-container">
                <input id="searchStudents" type="text" placeholder="Search students, parents, or shuttles..." oninput="filterStudents()">
                <select id="statusFilter" onchange="filterStudents()">
                    <option value="all">All Status</option>
                    <option value="checked-in">Checked in</option>
                    <option value="checked-out">Checked out</option>
                    <option value="not-boarded">Not boarded</option>
                </select>
            </div>
            <p id="no-students-message" style="display:none; color: red; margin-top: 10px;">No students found.</p>
            <table>
                <thead>
                <tr>
                    <th><i class="fa-solid fa-user"></i> Student</th>
                    <th><i class="fa-solid fa-user"></i> Parent/Guardian</th>
                    <th><i class="fa-solid fa-address-book"></i> Contact</th>
                    <th><i class="fa-solid fa-bus"></i> Assigned Shuttle</th>
                    <th>Status</th>
                    <th>Check-in Time</th>
                    <th>Current Location</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody id="students-table"></tbody>
            </table>
        </div>

        <div id="notifications" class="tab">
            <header>
                <div class="title-container">
                    <i class="fa-solid fa-bell"></i>
                    <h2>Notifications</h2>
                </div>
                <p>Real-time system alerts and activity updates</p>
            </header>
            <div class="table-header">
                <h3>System Notifications</h3>
                <div class="table-actions">
                    <button class="action-btn" onclick="markAllAsRead()">Mark All as Read</button>
                    <button class="action-btn" onclick="clearAllNotifications()">Clear All</button>
                </div>
            </div>
            <div class="search-container">
                <input id="searchNotifications" type="text" placeholder="Search notifications..." oninput="filterNotifications()">
                <select id="notificationStatusFilter" onchange="filterNotifications()">
                    <option value="all">All Status</option>
                    <option value="unread">Unread</option>
                    <option value="read">Read</option>
                </select>
            </div>
            <p id="no-notifications-message" style="display:none; color: red; margin-top: 10px;">No notifications found.</p>
            <table>
                <thead>
                <tr>
                    <th>Notification Message</th>
                    <th>Timestamp</th>
                    <th>Status</th>
                </tr>
                </thead>
                <tbody id="notifications-table">
                <tr>
                    <td>Sarah Johnson checked in to Shuttle #3</td>
                    <td>2025-09-22 12:16:00</td>
                    <td><span class="status-badge badge-unread">Unread</span></td>
                </tr>
                <tr>
                    <td>Shuttle #2 is running 5 minutes behind schedule</td>
                    <td>2025-09-22 12:13:00</td>
                    <td><span class="status-badge badge-read">Read</span></td>
                </tr>
                <tr>
                    <td>Mike Chen checked out from Shuttle #2</td>
                    <td>2025-09-22 12:10:00</td>
                    <td><span class="status-badge badge-unread">Unread</span></td>
                </tr>
                <tr>
                    <td>Route A delayed by 10 minutes</td>
                    <td>2025-09-22 12:00:00</td>
                    <td><span class="status-badge badge-read">Read</span></td>
                </tr>
                </tbody>
            </table>
        </div>

        <div id="live-map" class="tab">
            <header>
                <div class="title-container">
                    <i class="fa-solid fa-map-location-dot"></i>
                    <h2>Live Map Tracking</h2>
                </div>
                <p>Real-time shuttle locations and routes</p>
            </header>
            <div class="table-header">
                <h3>Shuttle Map</h3>
                <div class="table-actions">
                    <button class="action-btn" onclick="refreshMap()">Refresh</button>
                    <button class="action-btn" onclick="toggleLayers()">Layers</button>
                    <button class="action-btn" onclick="zoomMap('in')"><i class="fa-solid fa-plus"></i></button>
                    <button class="action-btn" onclick="zoomMap('out')"><i class="fa-solid fa-minus"></i></button>
                    <button class="action-btn" onclick="toggleFullScreen()">Full Screen</button>
                </div>
            </div>
            <div class="map-container" style="display: flex; gap: 20px;">
                <div id="map" style="width: 70%; height: 500px;"></div>
                <div class="active-shuttles" style="width: 30%; max-height: 500px; overflow-y: auto;">
                    <h3>Active Shuttles</h3>
                    <p>Live Location Tracking</p>
                    <div class="shuttle-list">
                        <div class="shuttle-item">
                            <p><strong>Shuttle #1</strong> - On Time<br>Lat: 14.5995, Lng: 120.9842</p>
                            <button class="action-btn track-btn" onclick="trackShuttle('Shuttle #1')">Track Shuttle</button>
                        </div>
                        <div class="shuttle-item">
                            <p><strong>Shuttle #2</strong> - Delayed<br>Lat: 14.6760, Lng: 121.0437</p>
                            <button class="action-btn track-btn" onclick="trackShuttle('Shuttle #2')">Track Shuttle</button>
                        </div>
                        <div class="shuttle-item">
                            <p><strong>Shuttle #3</strong> - On Time<br>Lat: 14.5580, Lng: 121.0813</p>
                            <button class="action-btn track-btn" onclick="trackShuttle('Shuttle #3')">Track Shuttle</button>
                        </div>
                        <div class="shuttle-item">
                            <p><strong>Shuttle #4</strong> - Inactive<br>Lat: 14.5547, Lng: 121.0244</p>
                            <button class="action-btn track-btn" onclick="trackShuttle('Shuttle #4')">Track Shuttle</button>
                        </div>
                    </div>
                </div>
            </div>
            <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
            mapboxgl.accessToken = 'pk.eyJ1IjoiYWxmcmFuY2lzYnA0IiwiYSI6ImNtZnRqaDU2dzBsbGIyanM4cHFhbDY1MjMifQ.-ZQAt1NphjZJLxYUeMkZ7g';
            const map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/mapbox/streets-v11',
                center: [121.7740, 12.8797], // Centered on the Philippines
                zoom: 5
            });

            map.addControl(new mapboxgl.NavigationControl());
            map.addControl(new mapboxgl.FullscreenControl());

            const shuttles = [
                { name: 'Shuttle #1', coordinates: [120.9842, 14.5995], status: 'On Time' },
                { name: 'Shuttle #2', coordinates: [121.0437, 14.6760], status: 'Delayed' },
                { name: 'Shuttle #3', coordinates: [121.0813, 14.5580], status: 'On Time' },
                { name: 'Shuttle #4', coordinates: [121.0244, 14.5547], status: 'Inactive' }
            ];

            shuttles.forEach(shuttle => {
                // Create a custom marker element with a bus icon
                const markerElement = document.createElement('div');
                markerElement.style.backgroundColor = '#003A6C'; // Ateneo Blue to match theme
                markerElement.style.width = '30px'; // Match default marker size
                markerElement.style.height = '30px';
                markerElement.style.borderRadius = '50%'; // Circular like default pin
                markerElement.style.display = 'flex';
                markerElement.style.alignItems = 'center';
                markerElement.style.justifyContent = 'center';
                markerElement.style.cursor = 'pointer';
                markerElement.style.boxShadow = '0 2px 4px rgba(0,0,0,0.3)'; // Match default marker shadow
                markerElement.innerHTML = '<i class="fa-solid fa-bus" style="color: #F5F5F5; font-size: 18px;"></i>'; // Font Awesome bus icon

                // Add hover effect to mimic default marker
                markerElement.addEventListener('mouseenter', () => {
                    markerElement.style.backgroundColor = '#0066CC'; // Lighter Ateneo Blue on hover
                });
                markerElement.addEventListener('mouseleave', () => {
                    markerElement.style.backgroundColor = '#003A6C'; // Original color
                });

                new mapboxgl.Marker({ element: markerElement })
                    .setLngLat(shuttle.coordinates)
                    .setPopup(new mapboxgl.Popup().setHTML(`<h3>${shuttle.name}</h3><p>Status: ${shuttle.status}</p>`))
                    .addTo(map);
            });

            function refreshMap() {
                alert('Map refreshed!');
            }

            function toggleLayers() {
                alert('Toggling layers!');
            }

            function trackShuttle(shuttleName) {
                const shuttle = shuttles.find(s => s.name === shuttleName);
                if (shuttle) {
                    map.flyTo({ center: shuttle.coordinates, zoom: 12 });
                }
            }

            function zoomMap(direction) {
                const currentZoom = map.getZoom();
                if (direction === 'in') {
                    map.setZoom(currentZoom + 1);
                } else if (direction === 'out') {
                    map.setZoom(currentZoom - 1);
                }
            }

            function toggleFullScreen() {
                const mapContainer = document.getElementById('map');
                if (!document.fullscreenElement) {
                    mapContainer.requestFullscreen().catch(err => {
                        alert(`Error attempting to enable full-screen mode: ${err.message}`);
                    });
                } else {
                    document.exitFullscreen();
                }
            }
        </script>
        </div>

        <div id="profile" class="tab">
            <header>
                <h2>Profile</h2>
            </header>
            <div class="profile-section">
                <div class="profile-card" role="region" aria-labelledby="admin-info-title">
                    <h3 id="admin-info-title">Admin Information</h3>
                    <div class="info-row">
                        <div class="profile-picture-container">
                            <img id="admin-profile-picture" src="images/default-profile.png" alt="Admin Profile Picture" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; margin-bottom: 1rem; border: 2px solid #f46354;">
                            <div class="profile-picture-upload">
                                <input type="file" id="profile-picture-input" accept="image/*" style="display: none;">
                                <button class="profile-button" onclick="document.getElementById('profile-picture-input').click()">Change Picture</button>
                            </div>
                            <p id="profile-picture-error" class="error-text" style="display: none;"></p>
                        </div>
                        <p><strong>Username:</strong> <span id="admin-username"></span></p>
                        <p><strong>Email:</strong> <span id="admin-email"></span></p>
                    </div>
                </div>
                <div class="profile-card" role="region" aria-labelledby="admin-reset-title">
                    <h3 id="admin-reset-title">Reset Your Password</h3>
                    <form id="admin-reset-password-form" class="profile-form" aria-labelledby="admin-reset-title">
                        <div class="form-group password-wrapper">
                            <label for="admin-current-password">Current Password</label>
                            <input type="password" id="admin-current-password" required>
                            <span class="toggle-password" onclick="togglePassword('admin-current-password', this)" aria-label="Toggle password visibility">
                                <i class="fa-solid fa-eye-slash"></i>
                            </span>
                        </div>
                        <div class="form-group password-wrapper">
                            <label for="admin-new-password">New Password</label>
                            <input type="password" id="admin-new-password" required>
                            <span class="toggle-password" onclick="togglePassword('admin-new-password', this)" aria-label="Toggle password visibility">
                                <i class="fa-solid fa-eye-slash"></i>
                            </span>
                        </div>
                        <div class="form-group password-wrapper">
                            <label for="admin-confirm-password">Confirm New Password</label>
                            <input type="password" id="admin-confirm-password" required>
                            <span class="toggle-password" onclick="togglePassword('admin-confirm-password', this)" aria-label="Toggle password visibility">
                                <i class="fa-solid fa-eye-slash"></i>
                            </span>
                        </div>
                        <p id="admin-reset-error" class="error-text" style="display: none;"></p>
                        <button type="submit" class="profile-button">Reset Password</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Add Parent & Students Modal -->
        <div id="addParentModal" class="modal" style="display: none;">
            <div class="modal-content add-form-modal">
                <div class="modal-header">
                    <h3><i class="fa-solid fa-users"></i> Add Parent & Students</h3>
                    <span class="close-modal" onclick="closeAddParentModal()">&times;</span>
                </div>
                <form id="addParentForm">
                    <div class="form-section">
                        <h4><i class="fa-solid fa-user"></i> Parent Information</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="parent-username">Username *</label>
                                <input type="text" id="parent-username" required>
                            </div>
                            <div class="form-group">
                                <label for="parent-email">Email *</label>
                                <input type="email" id="parent-email" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group password-wrapper">
                                <label for="parent-password">Password *</label>
                                <input type="password" id="parent-password" required>
                                <span class="toggle-password" onclick="togglePassword('parent-password', this)">
                                    <i class="fa-solid fa-eye-slash"></i>
                                </span>
                            </div>
                            <div class="form-group">
                                <label for="parent-fullname">Full Name *</label>
                                <input type="text" id="parent-fullname" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="parent-phone">Contact Phone *</label>
                                <input type="tel" id="parent-phone" placeholder="+63-912-345-6789" required>
                            </div>
                            <div class="form-group">
                                <label for="parent-address">Current Address *</label>
                                <input type="text" id="parent-address" required>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="section-header">
                            <h4><i class="fa-solid fa-graduation-cap"></i> Students Information</h4>
                            <button type="button" class="add-student-btn" onclick="addStudentForm()">
                                <i class="fa-solid fa-plus"></i> Add Student
                            </button>
                        </div>
                        <div id="students-container">
                            <div class="student-form" data-student="1">
                                <div class="student-header">
                                    <h5>Student 1</h5>
                                    <button type="button" class="remove-student-btn" onclick="removeStudentForm(1)" style="display: none;">
                                        <i class="fa-solid fa-trash"></i>
                                    </button>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="student-1-username">Username *</label>
                                        <input type="text" id="student-1-username" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="student-1-email">Email *</label>
                                        <input type="email" id="student-1-email" required>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group password-wrapper">
                                        <label for="student-1-password">Password *</label>
                                        <input type="password" id="student-1-password" required>
                                        <span class="toggle-password" onclick="togglePassword('student-1-password', this)">
                                            <i class="fa-solid fa-eye-slash"></i>
                                        </span>
                                    </div>
                                    <div class="form-group">
                                        <label for="student-1-fullname">Full Name *</label>
                                        <input type="text" id="student-1-fullname" required>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="student-1-address">Current Address *</label>
                                        <input type="text" id="student-1-address" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="student-1-grade">Grade *</label>
                                        <select id="student-1-grade" required>
                                            <option value="">Select Grade</option>
                                            <option value="Grade 7">Grade 7</option>
                                            <option value="Grade 8">Grade 8</option>
                                            <option value="Grade 9">Grade 9</option>
                                            <option value="Grade 10">Grade 10</option>
                                            <option value="Grade 11">Grade 11</option>
                                            <option value="Grade 12">Grade 12</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="student-1-section">Section *</label>
                                        <input type="text" id="student-1-section" placeholder="e.g., Section A" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <p id="add-parent-error" class="error-text" style="display: none;"></p>
                    <div class="modal-actions">
                        <button type="button" class="cancel-btn" onclick="closeAddParentModal()">Cancel</button>
                        <button type="submit" class="submit-btn">
                            <i class="fa-solid fa-save"></i> Register Parent & Students
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Add Operator & Drivers Modal -->
        <div id="addOperatorModal" class="modal" style="display: none;">
            <div class="modal-content add-form-modal">
                <div class="modal-header">
                    <h3><i class="fa-solid fa-bus"></i> Add Operator & Drivers</h3>
                    <span class="close-modal" onclick="closeAddOperatorModal()">&times;</span>
                </div>
                <form id="addOperatorForm">
                    <div class="form-section">
                        <h4><i class="fa-solid fa-user-tie"></i> Operator Information</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="operator-username">Username *</label>
                                <input type="text" id="operator-username" required>
                            </div>
                            <div class="form-group">
                                <label for="operator-email">Email *</label>
                                <input type="email" id="operator-email" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group password-wrapper">
                                <label for="operator-password">Password *</label>
                                <input type="password" id="operator-password" required>
                                <span class="toggle-password" onclick="togglePassword('operator-password', this)">
                                    <i class="fa-solid fa-eye-slash"></i>
                                </span>
                            </div>
                            <div class="form-group">
                                <label for="operator-fullname">Full Name *</label>
                                <input type="text" id="operator-fullname" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="operator-phone">Contact Phone *</label>
                                <input type="tel" id="operator-phone" placeholder="+63-912-345-6789" required>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="section-header">
                            <h4><i class="fa-solid fa-id-card"></i> Drivers Information</h4>
                            <button type="button" class="add-driver-btn" onclick="addDriverForm()">
                                <i class="fa-solid fa-plus"></i> Add Driver
                            </button>
                        </div>
                        <div id="drivers-container">
                            <div class="driver-form" data-driver="1">
                                <div class="driver-header">
                                    <h5>Driver 1</h5>
                                    <button type="button" class="remove-driver-btn" onclick="removeDriverForm(1)" style="display: none;">
                                        <i class="fa-solid fa-trash"></i>
                                    </button>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="driver-1-username">Username *</label>
                                        <input type="text" id="driver-1-username" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="driver-1-email">Email *</label>
                                        <input type="email" id="driver-1-email" required>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group password-wrapper">
                                        <label for="driver-1-password">Password *</label>
                                        <input type="password" id="driver-1-password" required>
                                        <span class="toggle-password" onclick="togglePassword('driver-1-password', this)">
                                            <i class="fa-solid fa-eye-slash"></i>
                                        </span>
                                    </div>
                                    <div class="form-group">
                                        <label for="driver-1-license">License Number *</label>
                                        <input type="text" id="driver-1-license" placeholder="e.g., DRV-12345" required>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="driver-1-phone">Contact Phone *</label>
                                        <input type="tel" id="driver-1-phone" placeholder="+63-912-345-6789" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="driver-1-emergency">Emergency Contact *</label>
                                        <input type="tel" id="driver-1-emergency" placeholder="+63-912-345-6789" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <p id="add-operator-error" class="error-text" style="display: none;"></p>
                    <div class="modal-actions">
                        <button type="button" class="cancel-btn" onclick="closeAddOperatorModal()">Cancel</button>
                        <button type="submit" class="submit-btn">
                            <i class="fa-solid fa-save"></i> Register Operator & Drivers
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <div id="logoutConfirmModal" class="modal-confirm" style="display: none;">
            <div class="modal-confirm-content">
                <h3>Confirm Logout</h3>
                <p>Are you sure you want to log out?</p>
                <button class="confirm-action" onclick="confirmLogout()">Logout</button>
                <button class="cancel-action" onclick="cancelLogout()">Cancel</button>
            </div>
        </div>
    </div>

    <div id="toast" class="toast" style="display: none;"></div>

    <script src="script.js"></script>
    <script>
        function togglePassword(id, iconSpan) {
            const input = document.getElementById(id);
            const icon = iconSpan.querySelector('i');
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            }
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.display = 'block';
            setTimeout(() => toast.style.display = 'none', 4000);
        }
    </script>
</body>
</html>